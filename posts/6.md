---
title: 记一次煞笔行为
author: skadi
date: "2017-05-26 17:00"
tags:
  - qt
  - qtchart
  - f**k
---

### fuck qtchart!!!

写得`radarChart`继承于`QChartView`

然后f**k的事情来了.各种设置背景色失败.

```
m_viewer->setBackgroundBrush(Qt::red);
```

结果就是一个红色边框

```
m_viewer->chart()->setBackgroundBrush(Qt::red);
```

结果就是啥都没有

最后,实在没法,新建了一个demo,直接挨个套.
f**k的事情出现了,设置背景成功了...
一模一样的代码...

最后,我在自己定义的`randarChart`内部调用了一次
```
chart()->setBackgroundBrush(Qt::red)
```
也行? WTF???

最后我发现我在内部调用的时候是写在`setChart(xxx)`之后的.

而外面调用时写在`setChart(xxx)`之前的.

话说一个`QChartView`在没有`setChart()`之前调用`Chart()`来获取其`chart`难道不应该直接`assert(chart!=nullptr)`么?

虽然我是自己傻逼造成的这个问题,qt也可以加这么个一条,方便后来人.